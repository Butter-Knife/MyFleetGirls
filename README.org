# -*- coding:utf-8 -*-

#+AUTHOR: ポンコツ戦艦山本
#+EMAIL: web@ponkotuy.com
#+OPTIONS: toc:nil num:nil author:nil creator:nil
#+STYLE: <link rel="stylesheet" type="text/css" href="org.css"></link>
#+LANGUAGE: ja

* MyFleetGirls
  艦これのデータをProxy経由で取得し、サーバに送って、

  [[http://myfleet.ponkotuy.com/]]

  こんな感じで見れるようにするツールです。

** Getting Started
   sbtとブラウザ設定のみで動かせます

*** 艦これサーバの調査
    接続サーバのIPアドレスを調査します。

    - 横須賀鎮守府 :: 203.104.105.167
    - 呉鎮守府 :: 125.6.184.15
    - 佐世保鎮守府 :: 125.6.184.16
    - 舞鶴鎮守府 :: 125.6.187.205
    - 大湊警備府 :: 125.6.187.229
    - トラック泊地 :: 125.6.187.253
    - リンガ泊地 :: 125.6.188.25
    - ラバウル基地 :: 203.104.248.135
    - ショートランド泊地 :: 125.6.189.7
    - ブイン基地 :: 125.6.189.39
    - タウイタウイ泊地 :: 125.6.189.71
    - パラオ泊地 :: 125.6.189.103
    - ブルネイ泊地 :: 125.6.189.135
    - 単冠湾泊地 :: 125.6.189.167
    - 幌筵泊地 :: 125.6.189.215
    - 宿毛湾泊地 :: 125.6.189.247
    - 鹿屋基地 :: 203.104.209.23

    Firefox標準のデバッカーを使ってもIPは分かります。
    この値をclient/application.confのurl.kcに入力します。

*** BrowserのProxy設定
    艦これの通信をこのアプリケーションのProxyサーバに通す必要があるので、設定します。
    特に艦これ以外の通信を素通しする機能はないので、艦これの通信だけ向けるようにAddon等を使います。
    FirefoxであればFoxyProxy、ChromeであればAuto SwitchySharpなどで、先程の艦これサーバへのIPのアクセスをlocalhostの8080ポートへ繋ぐようにします。

*** Client
    ProxyServerの部分です。設定が正しければsbt proxyで実行できます。

*** Server
    Clientからの通信待ち受け、表示とかをします。MariaDBで動かしてますがMySQLでも動くでしょう。
    PlayとScaliikeJDBCで動かしています。

    sbt runで動かせますがまぁ色々設定が必要です。
